apiVersion: nvidia.com/v1
kind: ClusterPolicy
metadata:
  name: cluster-policy
  namespace: gpu-operator
spec:
  imagePullSecrets:
  - nvcr-secret
  validator:
  {}
  daemonsets: {}
  dcgm:
    enabled: false
  dcgmExporter:
    enabled: true
  devicePlugin:
    enabled: true
  driver:
    enabled: false # Talos provides the driver
  gfd:
    enabled: true
  nodeStatusExporter:
    enabled: true
  operator:
    defaultRuntime: containerd # Talos uses containerd
    runtimeClass: nvidia
  toolkit:
    enabled: true # Enable toolkit validation for Talos
    installDir: /usr/local/nvidia

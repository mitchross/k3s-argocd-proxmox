apiVersion: v1
kind: ConfigMap
metadata:
  name: ollama-webui-configmap
  namespace: ollama-webui
data:
  OLLAMA_API_BASE_URL: "http://ollama.ollama.svc.cluster.local:11434"
  DEFAULT_MODELS: "qwen3:30b-q4_K_M" # Set your default model (quantized for 24GB GPU)
  SYSTEM_PROMPT: |
    You are a helpful, friendly, and knowledgeable AI assistant, similar to ChatGPT and Gemini. Answer as helpfully, accurately, and safely as possible. If you don't know the answer, say so. Respond in clear, natural language, and ask clarifying questions if needed.
  CONTEXT_WINDOW: "32768" # Qwen3 supports up to 32k tokens
  TEMPERATURE: "0.6"
  TOP_P: "0.95"
  TOP_K: "20"
  PRESENCE_PENALTY: "1.5"
  # Enable Web Search with SearXNG (Updated for latest Open WebUI)
  ENABLE_RAG_WEB_SEARCH: "True"
  RAG_WEB_SEARCH_ENGINE: "searxng"
  RAG_WEB_SEARCH_RESULT_COUNT: "5"
  RAG_WEB_SEARCH_CONCURRENT_REQUESTS: "10"
  SEARXNG_QUERY_URL: "https://search.vanillax.me/search?q=<query>&format=json"
  # Web Loader Settings
  ENABLE_RAG_WEB_LOADER_SSL_VERIFICATION: "True"
  RAG_WEB_SEARCH_TRUST_ENV: "True" # Important for proxy support
  # Enable RAG for document integration
  ENABLE_RAG: "True"
  # Enable tools and function calling
  ENABLE_TOOLS: "True"
  # MCP/OpenAPI Tools Configuration
  # Format: OPENAPI_API_ENDPOINTS=name1:url1:key1;name2:url2:key2
  #OPENAPI_API_ENDPOINTS: "mcpo-time:http://mcpo.ollama-webui.svc.cluster.local:8000:mcp-demo-key"
  # Optional: Enable image generation if you have models that support it
  ENABLE_IMAGE_GENERATION: "True"
  # Optional: Enable voice features
  ENABLE_VOICE: "True"
